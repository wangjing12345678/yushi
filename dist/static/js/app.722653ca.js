(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},a={app:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";i("85ec")},"097e":function(e,t){(function(e,t){var i=e.documentElement,n="orientationchange"in window?"orientationchange":"resize",a=function(){var e=i.clientWidth;e&&(i.style.fontSize=e>=750?"100px":e/750*100+"px")};e.addEventListener&&(t.addEventListener(n,a,!1),e.addEventListener("DOMContentLoaded",a,!1))})(document,window)},1408:function(e,t,i){},1934:function(e,t,i){},"2c18":function(e,t,i){e.exports=i.p+"static/img/home_17.35ec524c.jpg"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("a026"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("pageWrap")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:e.swiperOption},on:{slideChangeTransitionStart:e.slideChangeTransitionStart}},[n("swiper-slide",[n("div",{class:0==e.activeIndex?"img-wrap animate__animated animate__pulse":"img-wrap"},[n("img",{staticClass:"back",attrs:{src:i("2c18"),alt:""}})]),n("audio",{ref:"audio",attrs:{src:"https://res.qiaomukeji.com/h5pro/202110/ljbgm/bgm_21.mp3",id:"audio",preload:"auto",autoplay:"autoplay"}})]),n("swiper-slide",[n("div",{staticClass:"img-wrap",staticStyle:{background:"white"}}),n("div",{staticClass:"uploadPage"},[n("getPoster",{ref:"getPoster",on:{changeDate:e.changeDate}})],1)]),n("swiper-slide",[n("div",{class:1==e.activeIndex?"img-wrap animate__animated animate__pulse":"img-wrap"},[n("img",{staticClass:"back",attrs:{src:i("dcc1"),alt:""}})])]),n("swiper-slide",[n("div",{class:2==e.activeIndex?"img-wrap animate__animated animate__pulse":"img-wrap"},[n("img",{staticClass:"back",attrs:{src:i("8bb9"),alt:""}})])]),n("div",{staticClass:"swiper-pagination swiper-pagination-white",attrs:{slot:"pagination"},slot:"pagination"}),n("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{slot:"button-prev"},slot:"button-prev"}),n("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{slot:"button-next"},slot:"button-next"})],1),n("van-calendar",{on:{confirm:e.onConfirm},model:{value:e.pickerVisible,callback:function(t){e.pickerVisible=t},expression:"pickerVisible"}})],1)},o=[],c=(i("99af"),i("7212")),l=(i("dfa4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-page"},[n("div",{ref:"imgContainer",attrs:{id:"imgContainer"}},[n("span",[e._v("宇视十周年生日快乐")]),n("div",[n("span",[e._v("姓名")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",[n("span",{on:{click:e.changDate}},[e._v("相识日期")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.missDate,expression:"missDate"}],attrs:{type:"text"},domProps:{value:e.missDate},on:{input:function(t){t.target.composing||(e.missDate=t.target.value)}}})]),n("div",{staticClass:"chooseImg"},[e.imgSrc?n("img",{attrs:{src:e.imgSrc,alt:""}}):n("img",{attrs:{src:i("9149"),alt:""},on:{click:e.selectImage}})])]),n("div",{staticStyle:{position:"absolute"},on:{click:e.getCanvas}},[e._v("点击生成")]),e.imgUrl?n("div",{staticClass:"result"},[n("img",{staticStyle:{opacity:"0"},attrs:{src:e.imgUrl,alt:""}})]):e._e()])}),u=[],p=i("c0e9"),d=i.n(p),m={name:"getPoster",data:function(){return{name:"",imgSrc:"",imgUrl:"",missDate:"",pickerVisible:!1}},mounted:function(){},methods:{changeImg:function(e){var t=this,i=e.target.files[0];if(e&&window.FileReader){var n=new FileReader;n.readAsDataURL(i),n.onloadend=function(){t.imgSrc=this.result,t.textHide=!1}}},getCanvas:function(){var e=this;d()(this.$refs.imgContainer,{taintTest:!1,allowTaint:!1,scale:window.devicePixelRatio,useCORS:!0}).then((function(t){console.log(t,"canvas");var i=t.toDataURL("image/png",1);e.showImg=!0,e.imgUrl=i}))},changDate:function(){this.$emit("changeDate")},selectImage:function(){var e=document.getElementById("fileInput");e&&(e.parentNode.removeChild(e),e=null),null==e&&(e=document.createElement("input"),e.id="fileInput",e.type="file",e.accept="image/*",e.style.height="0px",e.style.display="block",e.style.overflow="hidden",document.body.insertBefore(e,document.body.firstChild),e.addEventListener("change",this.selectFileImage,!1)),setTimeout((function(){e.click()}),100)},selectFileImage:function(e){var t=this,i=e.target.files[0];if(e&&window.FileReader){var n=new FileReader;n.readAsDataURL(i),n.onloadend=function(){t.imgSrc=this.result,t.textHide=!1}}}}},f=m,g=(i("d01b"),i("2877")),v=Object(g["a"])(f,l,u,!1,null,"98ac143c",null),h=v.exports,w={name:"page",components:{swiper:c["swiper"],swiperSlide:c["swiperSlide"],getPoster:h},data:function(){return{activeIndex:"",pickerVisible:!1,swiperOption:{direction:"vertical",speed:300,effect:"fade",pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}},mounted:function(){var e=this;this.$nextTick((function(){console.log(e.$refs.audio),e.audioAutoPlay("audio")}))},methods:{slideChangeTransitionStart:function(){this.activeIndex=this.$refs.mySwiper.swiper.activeIndex},clickbtn:function(){this.$refs.audio.play()},audioAutoPlay:function(e){var t=document.getElementById(e);document.addEventListener("WeixinJSBridgeReady",(function(){t.play()}),!1),document.addEventListener("YixinJSBridgeReady",(function(){t.play()}),!1)},changeDate:function(){this.pickerVisible=!0},formatDate:function(e){return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())},onConfirm:function(e){this.pickerVisible=!1,this.$refs.getPoster.missDate=this.formatDate(e)}}},b=w,y=(i("6fdf"),Object(g["a"])(b,s,o,!1,null,"29140650",null)),x=y.exports,_={name:"App",components:{pageWrap:x}},C=_,k=(i("034f"),Object(g["a"])(C,a,r,!1,null,null,null)),S=k.exports,D=(i("097e"),i("77ed")),O=i.n(D),P=i("b650"),j=(i("157a"),i("473d")),I=i("ee83"),E=i("6e47");n["a"].use(O.a),n["a"].use(P["a"]),n["a"].use(j["a"]),n["a"].use(I["a"]),n["a"].use(E["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(S)}}).$mount("#app")},"6fdf":function(e,t,i){"use strict";i("1934")},"85ec":function(e,t,i){},"8bb9":function(e,t,i){e.exports=i.p+"static/img/home_21.2cf2f3b4.jpg"},9149:function(e,t,i){e.exports=i.p+"static/img/camera.d68486e0.png"},d01b:function(e,t,i){"use strict";i("1408")},dcc1:function(e,t,i){e.exports=i.p+"static/img/home_19.680684d2.jpg"}});
//# sourceMappingURL=app.722653ca.js.map